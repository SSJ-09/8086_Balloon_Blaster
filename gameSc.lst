     1                                  org 100h
     2                                  ; ------------------------------
     3                                  ; Balloon Popping Game - Main Menu
     4                                  ; Combined background + menu items
     5                                  ; ------------------------------
     6 00000000 E96827                  jmp game_screen
     7                                  
     8                                  ; ===== COLOR DEFINITIONS =====
     9 00000003 00                      ColorHolder db 0
    10 00000004 0000                    write_word dw 0
    11                                  
    12 00000006 2E01                    white: dw 302
    13 00000008 2D01                    blue: dw 301
    14 0000000A 2C01                    red: dw 300
    15 0000000C 2F01                    black: dw 303
    16 0000000E 3001                    darkblue: dw 304   ; inner rectangle
    17                                  ;;305 and 306 used in palette
    18 00000010 3301                    lightblue: dw 307  ; outer rectangle
    19                                  
    20                                  ; ===== RECTANGLE POSITIONS =====
    21 00000012 3C00                    x1: dw 60
    22 00000014 3200                    y1: dw 50
    23 00000016 C800                    w1: dw 200
    24 00000018 1400                    h1: dw 20
    25                                  
    26 0000001A 3C00                    x2: dw 60
    27 0000001C 6400                    y2: dw 100
    28 0000001E C800                    w2: dw 200
    29 00000020 1400                    h2: dw 20
    30                                  
    31 00000022 3C00                    x3: dw 60
    32 00000024 9600                    y3: dw 150
    33 00000026 C800                    w3: dw 200
    34 00000028 1400                    h3: dw 20
    35                                  
    36 0000002A 0A00                    x4: dw 10
    37 0000002C 0A00                    y4: dw 10
    38 0000002E 4600                    w4: dw 70
    39 00000030 1000                    h4: dw 16
    40                                  
    41 00000032 2A00                    x5: dw 42
    42 00000034 0C00                    y5: dw 12
    43 00000036 2400                    w5: dw 36
    44 00000038 0C00                    h5: dw 12
    45                                  
    46 0000003A F000                    x6: dw 240
    47 0000003C 0A00                    y6: dw 10
    48 0000003E 4600                    w6: dw 70
    49 00000040 1000                    h6: dw 16
    50                                  
    51 00000042 0C01                    x7: dw 268
    52 00000044 0C00                    y7: dw 12
    53 00000046 2800                    w7: dw 40
    54 00000048 0C00                    h7: dw 12
    55                                  
    56 0000004A 6E00                    x8: dw 110
    57 0000004C 0A00                    y8: dw 10
    58 0000004E 6400                    w8: dw 100
    59 00000050 1000                    h8: dw 16
    60                                  
    61 00000052 A800                    x9: dw 168
    62 00000054 0C00                    y9: dw 12
    63 00000056 2800                    w9: dw 40
    64 00000058 0C00                    h9: dw 12
    65                                  
    66                                  
    67                                  
    68                                  
    69                                  ; -------------------------------------
    70                                  ; Balloon bitmap data (16x24 pixels)
    71                                  ; Three separate bitmaps for layers
    72                                  ; -------------------------------------
    73                                  Balloon_body:
    74 0000005A C007                        dw 0000011111000000b  ; row 0 - top of balloon
    75 0000005C F01F                        dw 0001111111110000b  ; row 1
    76 0000005E F83F                        dw 0011111111111000b  ; row 2
    77 00000060 FC7F                        dw 0111111111111100b  ; row 3
    78 00000062 FE7F                        dw 0111111111111110b  ; row 4
    79 00000064 FFFF                        dw 1111111111111111b  ; row 5
    80 00000066 FFFF                        dw 1111111111111111b  ; row 6 - widest part
    81 00000068 FFFF                        dw 1111111111111111b  ; row 7
    82 0000006A FFFF                        dw 1111111111111111b  ; row 8
    83 0000006C FFFF                        dw 1111111111111111b  ; row 9
    84 0000006E FFFF                        dw 1111111111111111b  ; row 10
    85 00000070 FFFF                        dw 1111111111111111b  ; row 11
    86 00000072 FE7F                        dw 0111111111111110b  ; row 12 - narrowing
    87 00000074 FE7F                        dw 0111111111111110b  ; row 13
    88 00000076 FC3F                        dw 0011111111111100b  ; row 14
    89 00000078 F81F                        dw 0001111111111000b  ; row 15
    90 0000007A F00F                        dw 0000111111110000b  ; row 16
    91 0000007C E007                        dw 0000011111100000b  ; row 17 - bottom of balloon
    92 0000007E 8001                        dw 0000000110000000b  ; row 18 - tie/knot
    93 00000080 8001                        dw 0000000110000000b  ; row 19
    94 00000082 0000                        dw 0000000000000000b  ; row 20 - string area (body layer empty)
    95 00000084 0000                        dw 0000000000000000b  ; row 21
    96 00000086 0000                        dw 0000000000000000b  ; row 22
    97 00000088 0000                        dw 0000000000000000b  ; row 23
    98                                  
    99                                  Balloon_shadow:
   100 0000008A 0000                        dw 0000000000000000b  ; row 0
   101 0000008C 0000                        dw 0000000000000000b  ; row 1
   102 0000008E 001C                        dw 0001110000000000b  ; row 2 - highlight starts
   103 00000090 0038                        dw 0011100000000000b  ; row 3
   104 00000092 0030                        dw 0011000000000000b  ; row 4
   105 00000094 0060                        dw 0110000000000000b  ; row 5
   106 00000096 0040                        dw 0100000000000000b  ; row 6
   107 00000098 0000                        dw 0000000000000000b  ; row 7
   108 0000009A 0000                        dw 0000000000000000b  ; row 8
   109 0000009C 0000                        dw 0000000000000000b  ; row 9
   110 0000009E 0000                        dw 0000000000000000b  ; row 10
   111 000000A0 0000                        dw 0000000000000000b  ; row 11
   112 000000A2 0000                        dw 0000000000000000b  ; row 12
   113 000000A4 0000                        dw 0000000000000000b  ; row 13
   114 000000A6 0000                        dw 0000000000000000b  ; row 14
   115 000000A8 0000                        dw 0000000000000000b  ; row 15
   116 000000AA 0000                        dw 0000000000000000b  ; row 16
   117 000000AC 0000                        dw 0000000000000000b  ; row 17
   118 000000AE 0000                        dw 0000000000000000b  ; row 18
   119 000000B0 0000                        dw 0000000000000000b  ; row 19
   120 000000B2 0000                        dw 0000000000000000b  ; row 20
   121 000000B4 0000                        dw 0000000000000000b  ; row 21
   122 000000B6 0000                        dw 0000000000000000b  ; row 22
   123 000000B8 0000                        dw 0000000000000000b  ; row 23
   124                                  
   125                                  Balloon_string:
   126 000000BA 0000                        dw 0000000000000000b  ; row 0
   127 000000BC 0000                        dw 0000000000000000b  ; row 1
   128 000000BE 0000                        dw 0000000000000000b  ; row 2
   129 000000C0 0000                        dw 0000000000000000b  ; row 3
   130 000000C2 0000                        dw 0000000000000000b  ; row 4
   131 000000C4 0000                        dw 0000000000000000b  ; row 5
   132 000000C6 0000                        dw 0000000000000000b  ; row 6
   133 000000C8 0000                        dw 0000000000000000b  ; row 7
   134 000000CA 0000                        dw 0000000000000000b  ; row 8
   135 000000CC 0000                        dw 0000000000000000b  ; row 9
   136 000000CE 0000                        dw 0000000000000000b  ; row 10
   137 000000D0 0000                        dw 0000000000000000b  ; row 11
   138 000000D2 0000                        dw 0000000000000000b  ; row 12
   139 000000D4 0000                        dw 0000000000000000b  ; row 13
   140 000000D6 0000                        dw 0000000000000000b  ; row 14
   141 000000D8 0000                        dw 0000000000000000b  ; row 15
   142 000000DA 0000                        dw 0000000000000000b  ; row 16
   143 000000DC 0000                        dw 0000000000000000b  ; row 17
   144 000000DE 0000                        dw 0000000000000000b  ; row 18
   145 000000E0 0000                        dw 0000000000000000b  ; row 19
   146 000000E2 0003                        dw 0000001100000000b  ; row 20 - string curves
   147 000000E4 8001                        dw 0000000110000000b  ; row 21
   148 000000E6 0003                        dw 0000001100000000b  ; row 22
   149 000000E8 8001                        dw 0000000110000000b  ; row 23
   150                                  
   151                                  ; Temporary storage for current row being drawn
   152 000000EA 0000                    CurrentRow_Body dw 0
   153 000000EC 0000                    CurrentRow_Shadow dw 0
   154 000000EE 0000                    CurrentRow_String dw 0
   155 000000F0 00                      BalloonColor db 0
   156                                  ; ===== FONT DATA (8x8 BITMAPS) =====
   157 000000F1 1824427E                A_data: db 00011000b, 00100100b, 01000010b, 01111110b
   158 000000F5 42420000                       db 01000010b, 01000010b, 00000000b, 00000000b
   159                                  
   160 000000F9 7C427C42                B_data: db 01111100b, 01000010b, 01111100b, 01000010b
   161 000000FD 427C0000                       db 01000010b, 01111100b, 00000000b, 00000000b
   162                                  
   163 00000101 3E404040                C_data: db 00111110b, 01000000b, 01000000b, 01000000b
   164 00000105 403E0000                       db 01000000b, 00111110b, 00000000b, 00000000b
   165                                  
   166 00000109 7C424242                D_data: db 01111100b, 01000010b, 01000010b, 01000010b
   167 0000010D 427C0000                       db 01000010b, 01111100b, 00000000b, 00000000b
   168                                  
   169 00000111 7E407C40                E_data: db 01111110b, 01000000b, 01111100b, 01000000b
   170 00000115 407E0000                       db 01000000b, 01111110b, 00000000b, 00000000b
   171                                  
   172 00000119 7E407C40                F_data: db 01111110b, 01000000b, 01111100b, 01000000b
   173 0000011D 40400000                       db 01000000b, 01000000b, 00000000b, 00000000b
   174                                  
   175 00000121 3E404E42                G_data: db 00111110b, 01000000b, 01001110b, 01000010b
   176 00000125 423C0000                       db 01000010b, 00111100b, 00000000b, 00000000b
   177                                  
   178 00000129 42427E42                H_data: db 01000010b, 01000010b, 01111110b, 01000010b
   179 0000012D 42420000                       db 01000010b, 01000010b, 00000000b, 00000000b
   180                                  
   181 00000131 3C101010                I_data: db 00111100b, 00010000b, 00010000b, 00010000b
   182 00000135 103C0000                       db 00010000b, 00111100b, 00000000b, 00000000b
   183                                  
   184 00000139 1E080848                J_data: db 00011110b, 00001000b, 00001000b, 01001000b
   185 0000013D 48300000                       db 01001000b, 00110000b, 00000000b, 00000000b
   186                                  
   187 00000141 42447848                K_data: db 01000010b, 01000100b, 01111000b, 01001000b
   188 00000145 44420000                       db 01000100b, 01000010b, 00000000b, 00000000b
   189                                  
   190 00000149 40404040                L_data: db 01000000b, 01000000b, 01000000b, 01000000b
   191 0000014D 407E0000                       db 01000000b, 01111110b, 00000000b, 00000000b
   192                                  
   193 00000151 42665A42                M_data: db 01000010b, 01100110b, 01011010b, 01000010b
   194 00000155 42420000                       db 01000010b, 01000010b, 00000000b, 00000000b
   195                                  
   196 00000159 4262524A                N_data: db 01000010b, 01100010b, 01010010b, 01001010b
   197 0000015D 46420000                       db 01000110b, 01000010b, 00000000b, 00000000b
   198                                  
   199 00000161 3C424242                O_data: db 00111100b, 01000010b, 01000010b, 01000010b
   200 00000165 423C0000                       db 01000010b, 00111100b, 00000000b, 00000000b
   201                                  
   202 00000169 7C42427C                P_data: db 01111100b, 01000010b, 01000010b, 01111100b
   203 0000016D 40400000                       db 01000000b, 01000000b, 00000000b, 00000000b
   204                                  
   205 00000171 3C424242                Q_data: db 00111100b, 01000010b, 01000010b, 01000010b
   206 00000175 423E0100                       db 01000010b, 00111110b, 00000001b, 00000000b
   207                                  
   208 00000179 7C427C48                R_data: db 01111100b, 01000010b, 01111100b, 01001000b
   209 0000017D 44420000                       db 01000100b, 01000010b, 00000000b, 00000000b
   210                                  
   211 00000181 3E403C02                S_data: db 00111110b, 01000000b, 00111100b, 00000010b
   212 00000185 027C0000                       db 00000010b, 01111100b, 00000000b, 00000000b
   213                                  
   214 00000189 7E101010                T_data: db 01111110b, 00010000b, 00010000b, 00010000b
   215 0000018D 10100000                       db 00010000b, 00010000b, 00000000b, 00000000b
   216                                  
   217 00000191 42424242                U_data: db 01000010b, 01000010b, 01000010b, 01000010b
   218 00000195 423C0000                       db 01000010b, 00111100b, 00000000b, 00000000b
   219                                  
   220 00000199 42424224                V_data: db 01000010b, 01000010b, 01000010b, 00100100b
   221 0000019D 24180000                       db 00100100b, 00011000b, 00000000b, 00000000b
   222                                  
   223 000001A1 4242425A                W_data: db 01000010b, 01000010b, 01000010b, 01011010b
   224 000001A5 66420000                       db 01100110b, 01000010b, 00000000b, 00000000b
   225                                  
   226 000001A9 42241818                X_data: db 01000010b, 00100100b, 00011000b, 00011000b
   227 000001AD 24420000                       db 00100100b, 01000010b, 00000000b, 00000000b
   228                                  
   229 000001B1 41221408                Y_data: db 01000001b, 00100010b, 00010100b, 00001000b
   230 000001B5 08080000                       db 00001000b, 00001000b, 00000000b, 00000000b
   231                                  
   232 000001B9 3C040810                Z_data: db 00111100b, 00000100b, 00001000b, 00010000b
   233 000001BD 203C0000                       db 00100000b, 00111100b, 00000000b, 00000000b
   234                                  	   
   235 000001C1 08                      one_data:  db 00001000b
   236 000001C2 18                                db 00011000b
   237 000001C3 08                                db 00001000b
   238 000001C4 08                                db 00001000b
   239 000001C5 08                                db 00001000b
   240 000001C6 08                                db 00001000b
   241 000001C7 3E                                db 00111110b
   242 000001C8 00                                db 00000000b
   243                                  
   244 000001C9 3C                      two_data:  db 00111100b
   245 000001CA 42                                db 01000010b
   246 000001CB 02                                db 00000010b
   247 000001CC 0C                                db 00001100b
   248 000001CD 30                                db 00110000b
   249 000001CE 40                                db 01000000b
   250 000001CF 7E                                db 01111110b
   251 000001D0 00                                db 00000000b
   252                                  
   253 000001D1 7C                      three_data: db 01111100b
   254 000001D2 02                                 db 00000010b
   255 000001D3 02                                 db 00000010b
   256 000001D4 3C                                 db 00111100b
   257 000001D5 02                                 db 00000010b
   258 000001D6 02                                 db 00000010b
   259 000001D7 7C                                 db 01111100b
   260 000001D8 00                                 db 00000000b
   261                                  
   262 000001D9 44                      four_data: db 01000100b
   263 000001DA 44                                db 01000100b
   264 000001DB 44                                db 01000100b
   265 000001DC 7E                                db 01111110b
   266 000001DD 04                                db 00000100b
   267 000001DE 04                                db 00000100b
   268 000001DF 04                                db 00000100b
   269 000001E0 00                                db 00000000b
   270                                  
   271 000001E1 7E                      five_data: db 01111110b
   272 000001E2 40                                db 01000000b
   273 000001E3 40                                db 01000000b
   274 000001E4 7C                                db 01111100b
   275 000001E5 02                                db 00000010b
   276 000001E6 02                                db 00000010b
   277 000001E7 7C                                db 01111100b
   278 000001E8 00                                db 00000000b
   279                                  
   280 000001E9 3C                      six_data:  db 00111100b
   281 000001EA 40                                db 01000000b
   282 000001EB 40                                db 01000000b
   283 000001EC 7C                                db 01111100b
   284 000001ED 42                                db 01000010b
   285 000001EE 42                                db 01000010b
   286 000001EF 3C                                db 00111100b
   287 000001F0 00                                db 00000000b
   288                                  
   289 000001F1 7E                      seven_data: db 01111110b
   290 000001F2 02                                 db 00000010b
   291 000001F3 04                                 db 00000100b
   292 000001F4 08                                 db 00001000b
   293 000001F5 10                                 db 00010000b
   294 000001F6 10                                 db 00010000b
   295 000001F7 10                                 db 00010000b
   296 000001F8 00                                 db 00000000b
   297                                  
   298 000001F9 3C                      eight_data: db 00111100b
   299 000001FA 42                                 db 01000010b
   300 000001FB 42                                 db 01000010b
   301 000001FC 3C                                 db 00111100b
   302 000001FD 42                                 db 01000010b
   303 000001FE 42                                 db 01000010b
   304 000001FF 3C                                 db 00111100b
   305 00000200 00                                 db 00000000b
   306                                  
   307 00000201 3C                      nine_data: db 00111100b
   308 00000202 42                                db 01000010b
   309 00000203 42                                db 01000010b
   310 00000204 3E                                db 00111110b
   311 00000205 02                                db 00000010b
   312 00000206 02                                db 00000010b
   313 00000207 3C                                db 00111100b
   314 00000208 00                                db 00000000b
   315                                  		  
   316 00000209 3C                      zero_data: db 00111100b
   317 0000020A 42                                db 01000010b
   318 0000020B 42                                db 01000010b
   319 0000020C 42                                db 01000010b
   320 0000020D 42                                db 01000010b
   321 0000020E 42                                db 01000010b
   322 0000020F 3C                                db 00111100b
   323 00000210 00                                db 00000000b
   324                                  		  
   325 00000211 00                      colon_data: db 00000000b
   326 00000212 00                                 db 00000000b
   327 00000213 40                                 db 01000000b
   328 00000214 00                                 db 00000000b
   329 00000215 40                                 db 01000000b
   330 00000216 00                                 db 00000000b
   331 00000217 00                                 db 00000000b
   332 00000218 00                                 db 00000000b
   333                                  
   334                                  
   335                                  
   336                                  
   337                                  
   338                                  ; ===== BACKGROUND FILE DATA =====
   339 00000219 66696E616C6D752E72-     filename db "finalmu.raw", 0
   339 00000222 617700             
   340                                  chunkSize equ 8192
   341 00000225 00<rep 2000h>           buffer times chunkSize db 0
   342                                  
   343 00002225 90<rep Bh>              align 16
   344                                  palette:
   345 00002230 <bin 300h>                  incbin "vga_palette.bin"   ; 768 bytes (256*3)
   346                                  
   347                                  drawBackground:
   348 00002530 50                          push ax
   349 00002531 53                          push bx
   350 00002532 51                          push cx
   351 00002533 52                          push dx
   352 00002534 56                          push si
   353 00002535 57                          push di
   354 00002536 1E                          push ds
   355 00002537 06                          push es
   356                                  
   357                                      ; --- Load VGA palette ---
   358 00002538 31DB                        xor bx, bx
   359 0000253A B90001                      mov cx, 256
   360 0000253D 0E                          push cs
   361 0000253E 07                          pop es
   362 0000253F BA[3022]                    mov dx, palette
   363 00002542 B81210                      mov ax, 0x1012
   364 00002545 CD10                        int 0x10
   365                                  
   366                                      ; --- Set ES to video memory ---
   367 00002547 B800A0                      mov ax, 0xA000
   368 0000254A 8EC0                        mov es, ax
   369 0000254C 31FF                        xor di, di
   370                                  
   371                                      ; --- Open file ---
   372 0000254E BA[1902]                    mov dx, filename
   373 00002551 B43D                        mov ah, 0x3D
   374 00002553 30C0                        xor al, al
   375 00002555 CD21                        int 0x21
   376 00002557 7221                        jc file_error
   377 00002559 89C3                        mov bx, ax          ; BX = file handle
   378                                  
   379                                  read_loop:
   380                                      ; Read chunk
   381 0000255B B43F                        mov ah, 0x3F
   382 0000255D B90020                      mov cx, chunkSize
   383 00002560 BA[2502]                    mov dx, buffer
   384 00002563 CD21                        int 0x21
   385 00002565 09C0                        or ax, ax
   386 00002567 740D                        jz finished_reading ; EOF reached
   387                                  
   388                                      ; Copy AX bytes from DS:buffer to ES:DI
   389 00002569 1E                          push ds
   390 0000256A 06                          push es
   391 0000256B BE[2502]                    mov si, buffer
   392 0000256E 89C1                        mov cx, ax
   393 00002570 F3A4                        rep movsb
   394 00002572 07                          pop es
   395 00002573 1F                          pop ds
   396 00002574 EBE5                        jmp read_loop
   397                                  
   398                                  finished_reading:
   399                                      ; Close file
   400 00002576 B43E                        mov ah, 0x3E
   401 00002578 CD21                        int 0x21
   402                                  
   403                                  file_error:
   404 0000257A 07                          pop es
   405 0000257B 1F                          pop ds
   406 0000257C 5F                          pop di
   407 0000257D 5E                          pop si
   408 0000257E 5A                          pop dx
   409 0000257F 59                          pop cx
   410 00002580 5B                          pop bx
   411 00002581 58                          pop ax
   412 00002582 C3                          ret
   413                                  	
   414                                  	
   415                                  	
   416                                  	; -------------------------------------
   417                                  ; DrawBalloon
   418                                  ; Draws 16x24 balloon sprite (16 wide, 24 tall)
   419                                  ; Call convention:
   420                                  ;   CX = x (top-left), DX = y (top-left), AL = balloon color
   421                                  ; String is always black (0), shadow is always white (15)
   422                                  ; -------------------------------------
   423                                  DrawBalloon:
   424 00002583 50                          push ax
   425 00002584 53                          push bx
   426 00002585 51                          push cx
   427 00002586 52                          push dx
   428 00002587 56                          push si
   429 00002588 57                          push di
   430 00002589 55                          push bp
   431                                      
   432 0000258A A2[F000]                    mov [BalloonColor], al  ; save balloon color
   433 0000258D BE0000                      mov si, 0               ; SI = row index (0-23)
   434                                      
   435                                  RowLoop_Balloon:
   436                                      ; Get bitmap words for this row
   437 00002590 89F3                        mov bx, si
   438 00002592 D1E3                        shl bx, 1               ; multiply by 2 (each row is 2 bytes)
   439                                      
   440                                      ; Get balloon body bitmap
   441 00002594 8B87[5A00]                  mov ax, [Balloon_body + bx]
   442 00002598 A3[EA00]                    mov [CurrentRow_Body], ax
   443                                      
   444                                      ; Get shadow bitmap
   445 0000259B 8B87[8A00]                  mov ax, [Balloon_shadow + bx]
   446 0000259F A3[EC00]                    mov [CurrentRow_Shadow], ax
   447                                      
   448                                      ; Get string bitmap
   449 000025A2 8B87[BA00]                  mov ax, [Balloon_string + bx]
   450 000025A6 A3[EE00]                    mov [CurrentRow_String], ax
   451                                      
   452 000025A9 51                          push cx                 ; save start X for this row
   453 000025AA BD1000                      mov bp, 16              ; BP = bit counter (16 bits per row)
   454                                      
   455                                  ColLoop_Balloon:
   456                                      ; Check string first (highest priority - black)
   457 000025AD A1[EE00]                    mov ax, [CurrentRow_String]
   458 000025B0 A90080                      test ax, 8000h          ; check MSB
   459 000025B3 7512                        jnz DrawString_Balloon
   460                                      
   461                                      ; Check shadow (white)
   462 000025B5 A1[EC00]                    mov ax, [CurrentRow_Shadow]
   463 000025B8 A90080                      test ax, 8000h
   464 000025BB 7516                        jnz DrawShadow_Balloon
   465                                      
   466                                      ; Check balloon body (colored)
   467 000025BD A1[EA00]                    mov ax, [CurrentRow_Body]
   468 000025C0 A90080                      test ax, 8000h
   469 000025C3 751A                        jnz DrawBody_Balloon
   470                                      
   471                                      ; If none, skip (transparent)
   472 000025C5 EB22                        jmp NextPixel_Balloon
   473                                      
   474                                  DrawString_Balloon:
   475 000025C7 51                          push cx
   476 000025C8 52                          push dx
   477 000025C9 A0[0C00]                    mov al, [black]               ; black color for string
   478 000025CC E83A00                      call DrawPixel
   479 000025CF 5A                          pop dx
   480 000025D0 59                          pop cx
   481 000025D1 EB16                        jmp NextPixel_Balloon
   482                                      
   483                                  DrawShadow_Balloon:
   484 000025D3 51                          push cx
   485 000025D4 52                          push dx
   486 000025D5 A0[0600]                    mov al, [white]              ; white color for shadow
   487 000025D8 E82E00                      call DrawPixel
   488 000025DB 5A                          pop dx
   489 000025DC 59                          pop cx
   490 000025DD EB0A                        jmp NextPixel_Balloon
   491                                      
   492                                  DrawBody_Balloon:
   493 000025DF 51                          push cx
   494 000025E0 52                          push dx
   495 000025E1 A0[F000]                    mov al, [BalloonColor]  ; use balloon color
   496 000025E4 E82200                      call DrawPixel
   497 000025E7 5A                          pop dx
   498 000025E8 59                          pop cx
   499                                      
   500                                  NextPixel_Balloon:
   501                                      ; Shift all bitmaps left for next pixel
   502 000025E9 D126[EA00]                  shl word [CurrentRow_Body], 1
   503 000025ED D126[EC00]                  shl word [CurrentRow_Shadow], 1
   504 000025F1 D126[EE00]                  shl word [CurrentRow_String], 1
   505                                      
   506 000025F5 41                          inc cx                  ; move to next X
   507 000025F6 4D                          dec bp
   508 000025F7 75B4                        jnz ColLoop_Balloon
   509                                      
   510 000025F9 59                          pop cx                  ; restore start X
   511 000025FA 42                          inc dx                  ; move to next Y (row)
   512 000025FB 46                          inc si                  ; next row index
   513 000025FC 83FE18                      cmp si, 24              ; done all 24 rows?
   514 000025FF 7C8F                        jl RowLoop_Balloon
   515                                      
   516 00002601 5D                          pop bp
   517 00002602 5F                          pop di
   518 00002603 5E                          pop si
   519 00002604 5A                          pop dx
   520 00002605 59                          pop cx
   521 00002606 5B                          pop bx
   522 00002607 58                          pop ax
   523 00002608 C3                          ret
   524                                  
   525                                  ; -------------------------------------
   526                                  ; DrawPixel
   527                                  ; Draw single pixel at (CX, DX) with color AL
   528                                  ; -------------------------------------
   529                                  DrawPixel:
   530 00002609 50                          push ax
   531 0000260A 53                          push bx
   532 0000260B 51                          push cx
   533 0000260C 52                          push dx
   534 0000260D 57                          push di
   535                                      
   536 0000260E 50                          push ax                 ; save color (AL)
   537                                      
   538                                      ; Calculate offset: y * 320 + x
   539 0000260F 89D0                        mov ax, dx              ; AX = y
   540 00002611 BB4001                      mov bx, 320
   541 00002614 F7E3                        mul bx                  ; DX:AX = y * 320
   542 00002616 01C8                        add ax, cx              ; AX = y * 320 + x
   543 00002618 89C7                        mov di, ax              ; DI = offset
   544                                      
   545 0000261A 58                          pop ax                  ; restore color
   546 0000261B 268805                      mov byte [es:di], al    ; write pixel
   547                                      
   548 0000261E 5F                          pop di
   549 0000261F 5A                          pop dx
   550 00002620 59                          pop cx
   551 00002621 5B                          pop bx
   552 00002622 58                          pop ax
   553 00002623 C3                          ret
   554                                  
   555                                  DrawBlock:
   556 00002624 50                          push ax
   557 00002625 53                          push bx
   558 00002626 51                          push cx
   559 00002627 52                          push dx
   560 00002628 57                          push di
   561 00002629 55                          push bp
   562                                      
   563 0000262A A0[0300]                    mov al, [ColorHolder]
   564 0000262D 89F5                        mov bp, si
   565                                      
   566 0000262F BB0000                      mov bx, 0
   567                                  RowLoop_DB:
   568 00002632 50                          push ax
   569 00002633 89D0                        mov ax, dx
   570 00002635 01D8                        add ax, bx
   571 00002637 52                          push dx
   572 00002638 BA4001                      mov dx, 320
   573 0000263B F7E2                        mul dx
   574 0000263D 5A                          pop dx
   575 0000263E 01C8                        add ax, cx
   576 00002640 89C7                        mov di, ax
   577 00002642 58                          pop ax
   578                                      
   579 00002643 53                          push bx
   580 00002644 89EB                        mov bx, bp
   581                                  ColLoop_DB:
   582 00002646 268805                      mov byte [es:di], al
   583 00002649 47                          inc di
   584 0000264A 4B                          dec bx
   585 0000264B 75F9                        jnz ColLoop_DB
   586                                      
   587 0000264D 5B                          pop bx
   588 0000264E 43                          inc bx
   589 0000264F 39EB                        cmp bx, bp
   590 00002651 7CDF                        jl RowLoop_DB
   591                                      
   592 00002653 5D                          pop bp
   593 00002654 5F                          pop di
   594 00002655 5A                          pop dx
   595 00002656 59                          pop cx
   596 00002657 5B                          pop bx
   597 00002658 58                          pop ax
   598 00002659 C3                          ret
   599                                  
   600                                  ; -------------------------------------
   601                                  ; DrawA
   602                                  ; Draws 8x8 bitmap scaled by SI
   603                                  ; -------------------------------------
   604                                  DrawA:
   605 0000265A 50                          push ax
   606 0000265B 53                          push bx
   607 0000265C 51                          push cx
   608 0000265D 52                          push dx
   609 0000265E 56                          push si
   610 0000265F 57                          push di
   611 00002660 55                          push bp
   612                                      
   613 00002661 89F5                        mov bp, si
   614 00002663 BE0000                      mov si, 0
   615                                      
   616                                  RowLoop_DA:
   617 00002666 8B1E[0400]                  mov bx, [write_word]
   618 0000266A 01F3                        add bx, si
   619 0000266C 8A07                        mov al, [bx]
   620                                      
   621 0000266E B308                        mov bl, 8
   622 00002670 51                          push cx
   623                                      
   624                                  ColLoop_DA:
   625 00002671 A880                        test al, 10000000b
   626 00002673 740F                        jz SkipPixel_DA
   627                                      
   628 00002675 50                          push ax
   629 00002676 53                          push bx
   630 00002677 51                          push cx
   631 00002678 52                          push dx
   632 00002679 56                          push si
   633                                      
   634 0000267A 89EE                        mov si, bp
   635 0000267C E8A5FF                      call DrawBlock
   636                                      
   637 0000267F 5E                          pop si
   638 00002680 5A                          pop dx
   639 00002681 59                          pop cx
   640 00002682 5B                          pop bx
   641 00002683 58                          pop ax
   642                                      
   643                                  SkipPixel_DA:
   644 00002684 D0E0                        shl al, 1
   645 00002686 01E9                        add cx, bp
   646 00002688 FECB                        dec bl
   647 0000268A 75E5                        jnz ColLoop_DA
   648                                      
   649 0000268C 59                          pop cx
   650 0000268D 01EA                        add dx, bp
   651 0000268F 46                          inc si
   652 00002690 83FE08                      cmp si, 8
   653 00002693 7CD1                        jl RowLoop_DA
   654                                      
   655 00002695 5D                          pop bp
   656 00002696 5F                          pop di
   657 00002697 5E                          pop si
   658 00002698 5A                          pop dx
   659 00002699 59                          pop cx
   660 0000269A 5B                          pop bx
   661 0000269B 58                          pop ax
   662 0000269C C3                          ret
   663                                  
   664                                  
   665                                  
   666                                  
   667                                  
   668                                  
   669                                  
   670                                  ; -------------------------------------
   671                                  ; clearScreen
   672                                  ; -------------------------------------
   673                                  clearScreen:
   674 0000269D 31C0                        xor ax, ax
   675 0000269F BF0000                      mov di, 0
   676 000026A2 B900FA                      mov cx, 320*200
   677 000026A5 F3AA                        rep stosb
   678 000026A7 C3                          ret
   679                                  
   680                                  ; -------------------------------------
   681                                  ; drawRectangle
   682                                  ; bp + 4 = height, bp + 6 = width
   683                                  ; bp + 8 = y, bp + 10 = x, bp + 12 = color
   684                                  ; -------------------------------------
   685                                  drawRectangle:
   686 000026A8 55                          push bp
   687 000026A9 89E5                        mov bp, sp
   688 000026AB 50                          push ax
   689 000026AC 53                          push bx
   690 000026AD 51                          push cx
   691 000026AE 52                          push dx
   692 000026AF 56                          push si
   693 000026B0 57                          push di
   694                                      
   695 000026B1 8B4608                      mov ax, [bp + 8]
   696 000026B4 BB4001                      mov bx, 320
   697 000026B7 F7E3                        mul bx
   698 000026B9 03460A                      add ax, [bp + 10]
   699 000026BC 89C6                        mov si, ax
   700 000026BE 89C1                        mov cx, ax
   701                                      
   702 000026C0 89C7                        mov di, ax
   703 000026C2 037E06                      add di, [bp + 6]
   704                                      
   705 000026C5 8B4608                      mov ax, [bp + 8]
   706 000026C8 034604                      add ax, [bp + 4]
   707 000026CB F7E3                        mul bx
   708 000026CD 03460A                      add ax, [bp + 10]
   709                                      
   710 000026D0 8A560C                      mov dl, [bp + 12]
   711                                  Top_Left_to_Top_Right:
   712 000026D3 268814                      mov [es:si], dl
   713 000026D6 46                          inc si
   714 000026D7 39FE                        cmp si, di
   715 000026D9 76F8                        jbe Top_Left_to_Top_Right
   716 000026DB 81C14001                    add cx, 320
   717 000026DF 89CE                        mov si, cx
   718 000026E1 81C74001                    add di, 320
   719 000026E5 39C6                        cmp si, ax
   720 000026E7 76EA                        jbe Top_Left_to_Top_Right
   721                                      
   722 000026E9 5F                          pop di
   723 000026EA 5E                          pop si
   724 000026EB 5A                          pop dx
   725 000026EC 59                          pop cx
   726 000026ED 5B                          pop bx
   727 000026EE 58                          pop ax
   728 000026EF 89EC                        mov sp, bp
   729 000026F1 5D                          pop bp
   730 000026F2 C20A00                      ret 10
   731                                  	
   732                                  drawBoundary:
   733 000026F5 55                      	push bp
   734 000026F6 89E5                    	mov bp, sp
   735 000026F8 50                      	push ax
   736 000026F9 53                      	push bx
   737 000026FA 51                      	push cx
   738 000026FB 52                      	push dx
   739 000026FC 06                      	push es
   740 000026FD 57                      	push di
   741 000026FE 56                      	push si
   742                                  	
   743                                  	; bp + 4 = h
   744                                  	; bp + 6 = w
   745                                  	; bp + 8 = y
   746                                  	; bp + 10 = x
   747                                  	; bp + 12 = color
   748                                  	
   749 000026FF B800A0                  	mov ax, 0xa000
   750 00002702 8EC0                    	mov es, ax
   751 00002704 8B560C                  	mov dx, [bp + 12]
   752                                  	
   753 00002707 8B4608                  	mov ax, [bp + 8]
   754 0000270A BB4001                      mov bx, 320
   755 0000270D F7E3                        mul bx
   756 0000270F 03460A                      add ax, [bp + 10]
   757 00002712 89C6                        mov si, ax                ; si at its start point
   758 00002714 89C1                        mov cx, ax                ; storing si in cx for later use
   759                                      
   760 00002716 8B4604                      mov ax, [bp + 4]
   761 00002719 034608                  	add ax, [bp + 8]
   762 0000271C F7E3                    	mul bx
   763 0000271E 03460A                  	add ax, [bp + 10]
   764 00002721 89C7                    	mov di, ax                ; si at its start point
   765                                  	
   766 00002723 034606                  	add ax, [bp + 6]
   767                                  
   768 00002726 89CB                    	mov bx, CX
   769 00002728 035E06                  	add bx, [bp + 6]
   770                                  	
   771                                  	
   772                                  	
   773                                  loop_b1:
   774 0000272B 268914                  	mov [es:si], dx
   775 0000272E 268915                  	mov [es:di], dx
   776                                  	
   777 00002731 83C601                  	add si, 1
   778 00002734 83C701                  	add di, 1
   779                                  	
   780 00002737 39DE                    	cmp si, bx
   781 00002739 76F0                    	jbe loop_b1
   782 0000273B 39C7                    	cmp di, ax
   783 0000273D 76EC                    	jbe loop_b1
   784                                  	
   785                                  	
   786 0000273F 89CE                    	mov si, CX       ; si back at its start 
   787 00002741 89DF                    	mov di, bx       ; di at its new start
   788                                  	
   789 00002743 89C3                    	mov bx, ax
   790 00002745 2B5E06                  	sub bx, [bp + 6]
   791                                  	
   792                                  	
   793                                  
   794                                  loop_b2:
   795 00002748 268914                  	mov [es:si], dx
   796 0000274B 268915                  	mov [es:di], dx
   797                                  	
   798 0000274E 81C64001                	add si, 320
   799 00002752 81C74001                	add di, 320
   800                                  	
   801 00002756 39DE                    	cmp si, bx
   802 00002758 76EE                    	jbe loop_b2
   803 0000275A 39C7                    	cmp di, ax
   804 0000275C 76EA                    	jbe loop_b2
   805                                  	
   806                                  	
   807                                  	
   808 0000275E 5E                      	pop si
   809 0000275F 5F                      	pop di
   810 00002760 07                      	pop es
   811 00002761 5A                      	pop dx
   812 00002762 59                      	pop cx
   813 00002763 5B                      	pop bx
   814 00002764 58                      	pop ax
   815 00002765 89EC                    	mov sp, bp
   816 00002767 5D                      	pop bp
   817 00002768 C20A00                  	ret 10	
   818                                  	
   819                                  
   820                                  ; =====================================================
   821                                  ; MAIN START
   822                                  ; =====================================================
   823                                  game_screen:
   824                                      ; Set graphics mode
   825 0000276B B81300                      mov ax, 0x13
   826 0000276E CD10                        int 0x10
   827                                      
   828                                      ; Set ES to video memory
   829 00002770 B800A0                      mov ax, 0A000h
   830 00002773 8EC0                        mov es, ax
   831                                      
   832                                      ; Draw background first
   833 00002775 E8B8FD                      call drawBackground
   834                                  	; --- Fix specific colors for menu ---
   835                                      ; Set color 4 (red) = RGB(63, 0, 0)
   836 00002778 B81010                      mov ax, 0x1010
   837 0000277B BB2C01                      mov bx, 300
   838 0000277E B63F                        mov dh, 63  ; Red
   839 00002780 B500                        mov ch, 0   ; Green
   840 00002782 B100                        mov cl, 0   ; Blue
   841 00002784 CD10                        int 0x10
   842                                      
   843                                  	; Set color 303 black = RGB(0, 0, 0)
   844 00002786 B81010                      mov ax, 0x1010
   845 00002789 BB2F01                      mov bx, 303
   846 0000278C B600                        mov dh, 0  ; Red
   847 0000278E B500                        mov ch, 0   ; Green
   848 00002790 B100                        mov cl, 0   ; Blue
   849 00002792 CD10                        int 0x10
   850                                  	
   851                                      ; Set color 301 (bright blue) = RGB(0, 0, 63)
   852 00002794 B81010                      mov ax, 0x1010
   853 00002797 BB2D01                      mov bx, 301
   854 0000279A B600                        mov dh, 0   ; Red
   855 0000279C B500                        mov ch, 0   ; Green
   856 0000279E B13F                        mov cl, 63  ; Blue
   857 000027A0 CD10                        int 0x10
   858                                      
   859                                      ; Set color 302 (white) = RGB(63, 63, 63)
   860 000027A2 B81010                      mov ax, 0x1010
   861 000027A5 BB2E01                      mov bx, 302
   862 000027A8 B63F                        mov dh, 63  ; Red
   863 000027AA B53F                        mov ch, 63  ; Green
   864 000027AC B13F                        mov cl, 63  ; Blue
   865 000027AE CD10                        int 0x10
   866                                      
   867                                  	; set colour 304 (dark blue) = RGB(16,27,40)
   868 000027B0 B81010                  	mov ax, 0x1010
   869 000027B3 BB3001                      mov bx, 304
   870 000027B6 B610                        mov dh, 16  ; Red
   871 000027B8 B51B                        mov ch, 27  ; Green
   872 000027BA B128                        mov cl, 40  ; Blue
   873 000027BC CD10                        int 0x10
   874                                  	
   875                                  	; set colour 305 (light blue) = RGB(20,35,54)
   876 000027BE B81010                  	mov ax, 0x1010
   877 000027C1 BB3301                      mov bx, 307
   878 000027C4 B614                        mov dh, 20  ; Red
   879 000027C6 B523                        mov ch, 35  ; Green
   880 000027C8 B136                        mov cl, 54  ; Blue
   881 000027CA CD10                        int 0x10
   882                                  	
   883                                  	; Example: Draw balloons
   884                                  	
   885 000027CC B92900                      mov cx, 41            ; X position
   886 000027CF BA1E00                      mov dx, 30            ; Y position
   887 000027D2 A0[0A00]                    mov al, [red]            ; color (light red)
   888 000027D5 E8ABFD                      call DrawBalloon
   889                                  	
   890 000027D8 BA[F100]                    mov dx, A_data
   891 000027DB 8916[0400]              	mov [write_word], dx
   892 000027DF B92D00                  	mov cx, 45;distance from left
   893 000027E2 BA2300                  	mov dx, 35
   894 000027E5 BE0100                  	mov si, 1
   895 000027E8 A0[0C00]                	mov al, [black]
   896 000027EB A2[0300]                	mov [ColorHolder], al
   897 000027EE E869FE                  	call DrawA
   898                                  
   899 000027F1 B96400                      mov cx, 100           ; X position
   900 000027F4 BA5F00                      mov dx, 95            ; Y position
   901 000027F7 A0[0800]                    mov al, [blue]             ; color (light blue)
   902 000027FA E886FD                      call DrawBalloon
   903                                  	
   904 000027FD BA[F900]                	mov dx, B_data
   905 00002800 8916[0400]              	mov [write_word], dx
   906 00002804 B96800                  	mov cx, 104;distance from left
   907 00002807 BA6400                  	mov dx, 100
   908 0000280A BE0100                  	mov si, 1
   909 0000280D A0[0C00]                	mov al, [black]
   910 00002810 A2[0300]                	mov [ColorHolder], al
   911 00002813 E844FE                  	call DrawA
   912                                      
   913 00002816 B90E01                      mov cx, 270          ; X position
   914 00002819 BA3700                      mov dx, 55            ; Y position
   915 0000281C A0[0600]                    mov al, [white]            ; color (light green)
   916 0000281F E861FD                      call DrawBalloon
   917                                  	
   918 00002822 BA[0101]                	mov dx, C_data
   919 00002825 8916[0400]              	mov [write_word], dx
   920 00002829 B91201                  	mov cx, 274;distance from left
   921 0000282C BA3C00                  	mov dx, 60
   922 0000282F BE0100                  	mov si, 1
   923 00002832 A0[0C00]                	mov al, [black]
   924 00002835 A2[0300]                	mov [ColorHolder], al
   925 00002838 E81FFE                  	call DrawA
   926                                  	
   927                                  	
   928                                  	; TOP_LEFT_OUTER(HS)
   929 0000283B A1[1000]                	mov ax, [lightblue]
   930 0000283E 50                          push ax
   931 0000283F A1[2A00]                    mov ax, [x4]
   932 00002842 50                          push ax
   933 00002843 A1[2C00]                    mov ax, [y4]
   934 00002846 50                          push ax
   935 00002847 A1[2E00]                    mov ax, [w4]
   936 0000284A 50                          push ax
   937 0000284B A1[3000]                    mov ax, [h4]
   938 0000284E 50                          push ax
   939 0000284F E856FE                  	call drawRectangle
   940 00002852 A1[0600]                	mov ax, [white]
   941 00002855 50                          push ax
   942 00002856 A1[2A00]                    mov ax, [x4]
   943 00002859 50                          push ax
   944 0000285A A1[2C00]                    mov ax, [y4]
   945 0000285D 50                          push ax
   946 0000285E A1[2E00]                    mov ax, [w4]
   947 00002861 50                          push ax
   948 00002862 A1[3000]                    mov ax, [h4]
   949 00002865 50                          push ax
   950 00002866 E88CFE                  	call drawBoundary
   951                                  	
   952                                  	
   953                                  	; TOP_LEFT_INNER
   954 00002869 A1[0E00]                	mov ax, [darkblue]
   955 0000286C 50                          push ax
   956 0000286D A1[3200]                    mov ax, [x5]
   957 00002870 50                          push ax
   958 00002871 A1[3400]                    mov ax, [y5]
   959 00002874 50                          push ax
   960 00002875 A1[3600]                    mov ax, [w5]
   961 00002878 50                          push ax
   962 00002879 A1[3800]                    mov ax, [h5]
   963 0000287C 50                          push ax
   964 0000287D E828FE                  	call drawRectangle
   965                                  	
   966                                  	
   967                                  	; TOP_RIGHT_OUTER(TIME)
   968 00002880 A1[1000]                	mov ax, [lightblue]
   969 00002883 50                          push ax
   970 00002884 A1[3A00]                    mov ax, [x6]
   971 00002887 50                          push ax
   972 00002888 A1[3C00]                    mov ax, [y6]
   973 0000288B 50                          push ax
   974 0000288C A1[3E00]                    mov ax, [w6]
   975 0000288F 50                          push ax
   976 00002890 A1[4000]                    mov ax, [h6]
   977 00002893 50                          push ax
   978 00002894 E811FE                  	call drawRectangle
   979 00002897 A1[0600]                	mov ax, [white]
   980 0000289A 50                          push ax
   981 0000289B A1[3A00]                    mov ax, [x6]
   982 0000289E 50                          push ax
   983 0000289F A1[3C00]                    mov ax, [y6]
   984 000028A2 50                          push ax
   985 000028A3 A1[3E00]                    mov ax, [w6]
   986 000028A6 50                          push ax
   987 000028A7 A1[4000]                    mov ax, [h6]
   988 000028AA 50                          push ax
   989 000028AB E847FE                  	call drawBoundary
   990                                  	
   991                                  	
   992                                  	; TOP_RIGHT_INNER(TIME)
   993                                  	
   994 000028AE A1[0E00]                	mov ax, [darkblue]
   995 000028B1 50                          push ax
   996 000028B2 A1[4200]                    mov ax, [x7]
   997 000028B5 50                          push ax
   998 000028B6 A1[4400]                    mov ax, [y7]
   999 000028B9 50                          push ax
  1000 000028BA A1[4600]                    mov ax, [w7]
  1001 000028BD 50                          push ax
  1002 000028BE A1[4800]                    mov ax, [h7]
  1003 000028C1 50                          push ax
  1004 000028C2 E8E3FD                  	call drawRectangle
  1005                                  	
  1006                                  	; TOP_MIDDLE_OUTER(SCORE)
  1007                                  	
  1008 000028C5 A1[1000]                	mov ax, [lightblue]
  1009 000028C8 50                          push ax
  1010 000028C9 A1[4A00]                    mov ax, [x8]
  1011 000028CC 50                          push ax
  1012 000028CD A1[4C00]                    mov ax, [y8]
  1013 000028D0 50                          push ax
  1014 000028D1 A1[4E00]                    mov ax, [w8]
  1015 000028D4 50                          push ax
  1016 000028D5 A1[5000]                    mov ax, [h8]
  1017 000028D8 50                          push ax
  1018 000028D9 E8CCFD                  	call drawRectangle
  1019 000028DC A1[0600]                	mov ax, [white]
  1020 000028DF 50                          push ax
  1021 000028E0 A1[4A00]                    mov ax, [x8]
  1022 000028E3 50                          push ax
  1023 000028E4 A1[4C00]                    mov ax, [y8]
  1024 000028E7 50                          push ax
  1025 000028E8 A1[4E00]                    mov ax, [w8]
  1026 000028EB 50                          push ax
  1027 000028EC A1[5000]                    mov ax, [h8]
  1028 000028EF 50                          push ax
  1029 000028F0 E802FE                  	call drawBoundary
  1030                                  	
  1031                                  	;TOP_MIDDLE_INNER
  1032                                  	
  1033 000028F3 A1[0E00]                	mov ax, [darkblue]
  1034 000028F6 50                          push ax
  1035 000028F7 A1[5200]                    mov ax, [x9]
  1036 000028FA 50                          push ax
  1037 000028FB A1[5400]                    mov ax, [y9]
  1038 000028FE 50                          push ax
  1039 000028FF A1[5600]                    mov ax, [w9]
  1040 00002902 50                          push ax
  1041 00002903 A1[5800]                    mov ax, [h9]
  1042 00002906 50                          push ax
  1043 00002907 E89EFD                  	call drawRectangle
  1044                                  	
  1045                                  	
  1046                                  	
  1047                                  	
  1048                                  	; HS
  1049 0000290A BA[2901]                	mov dx, H_data
  1050 0000290D 8916[0400]              	mov [write_word], dx
  1051 00002911 B91200                  	mov cx, 18
  1052 00002914 BA1000                  	mov dx, 16
  1053 00002917 BE0100                  	mov si, 1
  1054 0000291A A0[0600]                	mov al, [white]
  1055 0000291D A2[0300]                	mov [ColorHolder], al
  1056 00002920 E837FD                  	call DrawA
  1057                                  
  1058 00002923 BA[8101]                	mov dx, S_data
  1059 00002926 8916[0400]              	mov [write_word], dx
  1060 0000292A B91C00                  	mov cx, 28
  1061 0000292D BA1000                  	mov dx, 16
  1062 00002930 BE0100                  	mov si, 1
  1063 00002933 A0[0600]                	mov al, [white]
  1064 00002936 A2[0300]                	mov [ColorHolder], al
  1065 00002939 E81EFD                  	call DrawA
  1066                                  	
  1067                                  	
  1068                                  	; HS = 9999
  1069                                  	
  1070 0000293C BA[0102]                	mov dx, nine_data
  1071 0000293F 8916[0400]              	mov [write_word], dx
  1072 00002943 B92D00                  	mov cx, 45
  1073 00002946 BA0F00                  	mov dx, 15
  1074 00002949 BE0100                  	mov si, 1
  1075 0000294C A0[0600]                	mov al, [white]
  1076 0000294F A2[0300]                	mov [ColorHolder], al
  1077 00002952 E805FD                  	call DrawA
  1078                                  	
  1079 00002955 BA[0102]                	mov dx, nine_data
  1080 00002958 8916[0400]              	mov [write_word], dx
  1081 0000295C B93500                  	mov cx, 53
  1082 0000295F BA0F00                  	mov dx, 15
  1083 00002962 BE0100                  	mov si, 1
  1084 00002965 A0[0600]                	mov al, [white]
  1085 00002968 A2[0300]                	mov [ColorHolder], al
  1086 0000296B E8ECFC                  	call DrawA
  1087                                  	
  1088 0000296E BA[0102]                	mov dx, nine_data
  1089 00002971 8916[0400]              	mov [write_word], dx
  1090 00002975 B93D00                  	mov cx, 61
  1091 00002978 BA0F00                  	mov dx, 15
  1092 0000297B BE0100                  	mov si, 1
  1093 0000297E A0[0600]                	mov al, [white]
  1094 00002981 A2[0300]                	mov [ColorHolder], al
  1095 00002984 E8D3FC                  	call DrawA
  1096                                  	
  1097 00002987 BA[0102]                	mov dx, nine_data
  1098 0000298A 8916[0400]              	mov [write_word], dx
  1099 0000298E B94500                  	mov cx, 69
  1100 00002991 BA0F00                  	mov dx, 15
  1101 00002994 BE0100                  	mov si, 1
  1102 00002997 A0[0600]                	mov al, [white]
  1103 0000299A A2[0300]                	mov [ColorHolder], al
  1104 0000299D E8BAFC                  	call DrawA
  1105                                  	
  1106                                  	
  1107                                  	
  1108                                  	; SCORE
  1109 000029A0 BA[8101]                	mov dx, S_data
  1110 000029A3 8916[0400]              	mov [write_word], dx
  1111 000029A7 B97600                  	mov cx, 118
  1112 000029AA BA1000                  	mov dx, 16
  1113 000029AD BE0100                  	mov si, 1
  1114 000029B0 A0[0600]                	mov al, [white]
  1115 000029B3 A2[0300]                	mov [ColorHolder], al
  1116 000029B6 E8A1FC                  	call DrawA
  1117                                  	
  1118 000029B9 BA[0101]                	mov dx, C_data
  1119 000029BC 8916[0400]              	mov [write_word], dx
  1120 000029C0 B97E00                  	mov cx, 126
  1121 000029C3 BA1000                  	mov dx, 16
  1122 000029C6 BE0100                  	mov si, 1
  1123 000029C9 A0[0600]                	mov al, [white]
  1124 000029CC A2[0300]                	mov [ColorHolder], al
  1125 000029CF E888FC                  	call DrawA
  1126                                  	
  1127 000029D2 BA[6101]                	mov dx, O_data
  1128 000029D5 8916[0400]              	mov [write_word], dx
  1129 000029D9 B98600                  	mov cx, 134
  1130 000029DC BA1000                  	mov dx, 16
  1131 000029DF BE0100                  	mov si, 1
  1132 000029E2 A0[0600]                	mov al, [white]
  1133 000029E5 A2[0300]                	mov [ColorHolder], al
  1134 000029E8 E86FFC                  	call DrawA
  1135                                  	
  1136 000029EB BA[7901]                	mov dx, R_data
  1137 000029EE 8916[0400]              	mov [write_word], dx
  1138 000029F2 B98E00                  	mov cx, 142
  1139 000029F5 BA1000                  	mov dx, 16
  1140 000029F8 BE0100                  	mov si, 1
  1141 000029FB A0[0600]                	mov al, [white]
  1142 000029FE A2[0300]                	mov [ColorHolder], al
  1143 00002A01 E856FC                  	call DrawA
  1144                                  	
  1145 00002A04 BA[1101]                	mov dx, E_data
  1146 00002A07 8916[0400]              	mov [write_word], dx
  1147 00002A0B B99600                  	mov cx, 150
  1148 00002A0E BA1000                  	mov dx, 16
  1149 00002A11 BE0100                  	mov si, 1
  1150 00002A14 A0[0600]                	mov al, [white]
  1151 00002A17 A2[0300]                	mov [ColorHolder], al
  1152 00002A1A E83DFC                  	call DrawA
  1153                                  	
  1154                                  	; SCORE = 1000
  1155 00002A1D BA[C101]                	mov dx, one_data
  1156 00002A20 8916[0400]              	mov [write_word], dx
  1157 00002A24 B9AC00                  	mov cx, 172
  1158 00002A27 BA0F00                  	mov dx, 15
  1159 00002A2A BE0100                  	mov si, 1
  1160 00002A2D A0[0600]                	mov al, [white]
  1161 00002A30 A2[0300]                	mov [ColorHolder], al
  1162 00002A33 E824FC                  	call DrawA
  1163                                  	
  1164 00002A36 BA[0902]                	mov dx, zero_data
  1165 00002A39 8916[0400]              	mov [write_word], dx
  1166 00002A3D B9B400                  	mov cx, 180
  1167 00002A40 BA0F00                  	mov dx, 15
  1168 00002A43 BE0100                  	mov si, 1
  1169 00002A46 A0[0600]                	mov al, [white]
  1170 00002A49 A2[0300]                	mov [ColorHolder], al
  1171 00002A4C E80BFC                  	call DrawA
  1172                                  	
  1173 00002A4F BA[0902]                	mov dx, zero_data
  1174 00002A52 8916[0400]              	mov [write_word], dx
  1175 00002A56 B9BC00                  	mov cx, 188
  1176 00002A59 BA0F00                  	mov dx, 15
  1177 00002A5C BE0100                  	mov si, 1
  1178 00002A5F A0[0600]                	mov al, [white]
  1179 00002A62 A2[0300]                	mov [ColorHolder], al
  1180 00002A65 E8F2FB                  	call DrawA
  1181                                  	
  1182 00002A68 BA[0902]                	mov dx, zero_data
  1183 00002A6B 8916[0400]              	mov [write_word], dx
  1184 00002A6F B9C400                  	mov cx, 196
  1185 00002A72 BA0F00                  	mov dx, 15
  1186 00002A75 BE0100                  	mov si, 1
  1187 00002A78 A0[0600]                	mov al, [white]
  1188 00002A7B A2[0300]                	mov [ColorHolder], al
  1189 00002A7E E8D9FB                  	call DrawA
  1190                                      
  1191                                  	
  1192                                  	;Time=00:57
  1193                                  	
  1194 00002A81 BA[0902]                	mov dx, zero_data
  1195 00002A84 8916[0400]              	mov [write_word], dx
  1196 00002A88 B90F01                  	mov cx, 271
  1197 00002A8B BA0F00                  	mov dx, 15
  1198 00002A8E BE0100                  	mov si, 1
  1199 00002A91 A0[0600]                	mov al, [white]
  1200 00002A94 A2[0300]                	mov [ColorHolder], al
  1201 00002A97 E8C0FB                  	call DrawA
  1202                                  	
  1203 00002A9A BA[0902]                	mov dx, zero_data
  1204 00002A9D 8916[0400]              	mov [write_word], dx
  1205 00002AA1 B91701                  	mov cx, 279
  1206 00002AA4 BA0F00                  	mov dx, 15
  1207 00002AA7 BE0100                  	mov si, 1
  1208 00002AAA A0[0600]                	mov al, [white]
  1209 00002AAD A2[0300]                	mov [ColorHolder], al
  1210 00002AB0 E8A7FB                  	call DrawA
  1211                                  	
  1212 00002AB3 BA[1102]                	mov dx, colon_data
  1213 00002AB6 8916[0400]              	mov [write_word], dx
  1214 00002ABA B91F01                  	mov cx, 287
  1215 00002ABD BA0F00                  	mov dx, 15
  1216 00002AC0 BE0100                  	mov si, 1
  1217 00002AC3 A0[0600]                	mov al, [white]
  1218 00002AC6 A2[0300]                	mov [ColorHolder], al
  1219 00002AC9 E88EFB                  	call DrawA
  1220                                  	
  1221 00002ACC BA[E101]                	mov dx, five_data
  1222 00002ACF 8916[0400]              	mov [write_word], dx
  1223 00002AD3 B92201                  	mov cx, 290
  1224 00002AD6 BA0F00                  	mov dx, 15
  1225 00002AD9 BE0100                  	mov si, 1
  1226 00002ADC A0[0600]                	mov al, [white]
  1227 00002ADF A2[0300]                	mov [ColorHolder], al
  1228 00002AE2 E875FB                  	call DrawA
  1229                                  	
  1230 00002AE5 BA[F101]                	mov dx, seven_data
  1231 00002AE8 8916[0400]              	mov [write_word], dx
  1232 00002AEC B92A01                  	mov cx, 298
  1233 00002AEF BA0F00                  	mov dx, 15
  1234 00002AF2 BE0100                  	mov si, 1
  1235 00002AF5 A0[0600]                	mov al, [white]
  1236 00002AF8 A2[0300]                	mov [ColorHolder], al
  1237 00002AFB E85CFB                  	call DrawA
  1238                                  	
  1239                                  ; Wait for keypress
  1240 00002AFE B400                    mov ah, 0
  1241 00002B00 CD16                    int 16h
  1242                                  
  1243                                  ; Restore text mode
  1244 00002B02 B80300                  mov ax,3
  1245 00002B05 CD10                    int 10h
  1246 00002B07 C3                      ret
